{"version":3,"sources":["../src/babel-plugin.js"],"names":["makeAST","varName","importName","template","statement","ast","JSON","stringify","codecs","formats","babelPlugin","visitor","ImportDeclaration","path","node","specifiers","local","name","source","value","replaceWith"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;AAEA,IAAMA,OAAO,GAAG,SAAVA,OAAU,CAACC,OAAD,EAAUC,UAAV,EAAyB;AACrC,MAAIA,UAAU,KAAK,QAAf,IAA2BA,UAAU,KAAK,SAA9C,EAAyD,OAAO,IAAP;AACzD,SAAOC,qBAASC,SAAT,CAAmBC,GAAnB,iBAAgCJ,OAAhC,gBAA6CK,IAAI,CAACC,SAAL,CAAeL,UAAU,KAAK,QAAf,GAA0BM,kBAA1B,GAAmCC,mBAAlD,CAA7C,OAAP;AACH,CAHD;;AAKA,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAO;AACvBC,IAAAA,OAAO,EAAE;AACLC,MAAAA,iBADK,6BACaC,IADb,EACmB;AACpB,YAAMR,GAAG,GAAGL,OAAO,CAACa,IAAI,CAACC,IAAL,CAAUC,UAAV,CAAqB,CAArB,EAAwBC,KAAxB,CAA8BC,IAA/B,EAAqCJ,IAAI,CAACC,IAAL,CAAUI,MAAV,CAAiBC,KAAtD,CAAnB;AACA,YAAI,CAACd,GAAL,EAAU;AACVQ,QAAAA,IAAI,CAACO,WAAL,CAAiBf,GAAjB;AACH;AALI;AADc,GAAP;AAAA,CAApB;;eAUeK,W","sourcesContent":["import template from \"@babel/template\"\nimport codecs from './codecs'\nimport formats from './formats'\n\nconst makeAST = (varName, importName) => {\n    if (importName !== 'codecs' && importName !== 'formats') return null\n    return template.statement.ast(`const ${varName} = ${JSON.stringify(importName === 'codecs' ? codecs : formats)};`)\n}\n\nconst babelPlugin = () => ({\n    visitor: {\n        ImportDeclaration(path) {\n            const ast = makeAST(path.node.specifiers[0].local.name, path.node.source.value)\n            if (!ast) return\n            path.replaceWith(ast)\n        }\n    }\n})\n\nexport default babelPlugin"],"file":"babel-plugin.js"}